# ğŸ“‹ ×ª×•×›× ×™×ª ×‘×“×™×§×•×ª ×•×“×™×•×•×— ×ª×•×¦××•×ª - Panda Release Validation

**×ª××¨×™×š:** 2025-11-07  
**××•×›×Ÿ ×¢×‘×•×¨:** ×©×™ ×¡×™××—×•×Ÿ, ×××™×” ×‘×•×¨×‘×¨×’, ×©×™ ×‘×¨× ×¨  
**××›×™×Ÿ:** ×¦×•×•×ª QA Automation  
**×¡×˜×˜×•×¡:** âœ… **××•×›×Ÿ ×œ×¡×§×™×¨×”**

---

## ğŸ¯ ×ª×§×¦×™×¨ ×× ×”×œ×™×

××¡××š ×–×” ××¡×¤×§ ×ª×•×›× ×™×ª ×‘×“×™×§×•×ª ××§×™×¤×” ×•×“×™×•×•×— ×ª×•×¦××•×ª ×¢×‘×•×¨ **Panda Release 3 Validation**, ×‘×”×ª×× ×œ×‘×§×©×” ××™×•× 6 ×‘× ×•×‘××‘×¨ 2025.

### ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª ×›×œ×œ×™×•×ª

| ××“×“ | ×¢×¨×š | ×¡×˜×˜×•×¡ |
|-----|-----|-------|
| **×¡×”"×› ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª** | **230+** | âœ… |
| **×§×˜×’×•×¨×™×•×ª ×‘×“×™×§×•×ª** | **8 ×§×˜×’×•×¨×™×•×ª** | âœ… |
| **×©×™×¢×•×¨ ×”×¦×œ×—×”** | **77.5%** (238/307) | âš ï¸ |
| **×©×™×œ×•×‘ Xray** | **89.4%** (101/113) | âœ… |
| **×‘××’×™× ×§×¨×™×˜×™×™× ×©× ××¦××•** | **4** | âœ… |
| **×‘×“×™×§×•×ª ×‘×™×¦×•×¢×™×** | **10+** | âœ… |
| **×‘×“×™×§×•×ª ××ª×—** | **6+** | âœ… |

---

## ğŸ“‹ ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

1. [×ª×•×›× ×™×ª ×‘×“×™×§×•×ª QA/Validation](#1-×ª×•×›× ×™×ª-×‘×“×™×§×•×ª-qavalidation)
2. [×‘×™×¦×•×¢×™× KPIs ×•×”×’×‘×œ×•×ª ×™×“×•×¢×•×ª](#2-×‘×™×¦×•×¢×™×-kpis-×•×”×’×‘×œ×•×ª-×™×“×•×¢×•×ª)
3. [×‘×“×™×§×•×ª ××ª×—](#3-×‘×“×™×§×•×ª-××ª×—)
4. [Alerts Pipeline ×¢×“ GUI](#4-alerts-pipeline-×¢×“-gui)
5. [×‘×“×™×§×•×ª ×ª×›×•× ×•×ª GUI ×•×”×ª×××” ×œ×“×¨×™×©×•×ª](#5-×‘×“×™×§×•×ª-×ª×›×•× ×•×ª-gui-×•×”×ª×××”-×œ×“×¨×™×©×•×ª)
6. [××‘× ×” Set Up ×‘××”×œ×š ××—×–×•×¨ Validation](#6-××‘× ×”-set-up-×‘××”×œ×š-××—×–×•×¨-validation)
7. [×¡×˜×˜×•×¡ BIT](#7-×¡×˜×˜×•×¡-bit)
8. [×¤×¨××˜×¨×™×/×”×’×“×¨×•×ª SW-HW](#8-×¤×¨××˜×¨×™××”×’×“×¨×•×ª-sw-hw)
9. [×‘×“×™×§×•×ª ××¤×ª×— ××—×¨×•×ª](#9-×‘×“×™×§×•×ª-××¤×ª×—-××—×¨×•×ª)

---

## 1. ×ª×•×›× ×™×ª ×‘×“×™×§×•×ª QA/Validation

### 1.1 ×¡×§×™×¨×” ×›×œ×œ×™×ª

×”×ª×•×›× ×™×ª ×›×•×œ×œ×ª **230+ ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª** ×”××›×¡×•×ª ××ª ×›×œ ×©×›×‘×•×ª ×”××¢×¨×›×ª:

#### ×§×˜×’×•×¨×™×•×ª ×‘×“×™×§×•×ª

| ×§×˜×’×•×¨×™×” | ××¡×¤×¨ ×‘×“×™×§×•×ª | ×¡×˜×˜×•×¡ | ×¢×“×™×¤×•×ª |
|---------|-------------|--------|--------|
| **API Integration** | 50+ | âœ… | ×§×¨×™×˜×™ |
| **Infrastructure** | 20+ | âœ… | ×§×¨×™×˜×™ |
| **Data Quality** | 15+ | âœ… | ×’×‘×•×” |
| **Performance & Load** | 10+ | âœ… | ×’×‘×•×” |
| **Security** | 5+ | âœ… | ×‘×™× ×•× ×™-×’×‘×•×” |
| **E2E** | 3+ | âœ… | ×§×¨×™×˜×™ |
| **API Quality** | 9+ | âœ… | ×‘×™× ×•× ×™ |
| **Edge Cases** | 20+ | âœ… | ×‘×™× ×•× ×™ |

### 1.2 API Integration Tests (50+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/integration/api/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **Configuration Validation**
   - NFFT validation (PZ-13874, PZ-13875)
   - Frequency range validation (PZ-13877)
   - Channel range validation (PZ-13876)
   - Time range validation (PZ-13984, PZ-13869)
   - Display height validation

2. **Live Mode**
   - Live streaming configuration (PZ-13547)
   - Metadata retrieval (PZ-13985)
   - Real-time data flow

3. **Historic Playback**
   - Time-range queries (PZ-13548)
   - Data availability
   - Completion status (status 208)
   - E2E historic flow (PZ-13872)

4. **View Types**
   - MultiChannel view
   - SingleChannel view (PZ-13669)
   - Waterfall view (PZ-13238)

5. **Error Handling**
   - Invalid inputs
   - Missing fields (PZ-13879)
   - Boundary conditions

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_prelaunch_validations.py` - 20+ ×‘×“×™×§×•×ª validation
- `test_live_monitoring_flow.py` - 10+ ×‘×“×™×§×•×ª live mode
- `test_historic_playback_e2e.py` - 8+ ×‘×“×™×§×•×ª historic
- `test_singlechannel_view_mapping.py` - 15+ ×‘×“×™×§×•×ª SingleChannel
- `test_api_endpoints_high_priority.py` - 10+ ×‘×“×™×§×•×ª endpoints

### 1.3 Infrastructure Tests (20+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/infrastructure/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **Kubernetes**
   - Pod lifecycle (PZ-13899)
   - Job creation
   - Resource allocation
   - Observability

2. **MongoDB**
   - Direct connection (PZ-13898)
   - Health checks
   - Response time
   - Outage resilience (PZ-13640, PZ-13667)

3. **RabbitMQ**
   - Message queue connectivity
   - Outage handling (PZ-13668)

4. **Resilience Tests**
   - MongoDB pod resilience
   - RabbitMQ pod resilience
   - Focus Server pod resilience
   - Multiple pods resilience

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_k8s_job_lifecycle.py` - Kubernetes tests
- `test_mongodb_monitoring_agent.py` - MongoDB tests
- `test_rabbitmq_connectivity.py` - RabbitMQ tests
- `resilience/` - 6+ resilience tests

### 1.4 Data Quality Tests (15+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/data_quality/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **MongoDB Indexes**
   - Critical index presence (PZ-13983)
   - Index optimization

2. **Schema Validation**
   - Recording document structure
   - Required fields

3. **Metadata Completeness**
   - Required metadata fields (PZ-13985)
   - Data classification

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_mongodb_data_quality.py` - 6+ ×‘×“×™×§×•×ª
- `test_mongodb_indexes_and_schema.py` - 5+ ×‘×“×™×§×•×ª
- `test_recordings_classification.py` - 3+ ×‘×“×™×§×•×ª

### 1.5 Performance & Load Tests (10+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/load/`, `tests/integration/performance/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **Capacity Limits**
   - 200 concurrent jobs target (PZ-13986)
   - Current capacity: 40/200 (80% gap)

2. **Latency Requirements**
   - Configure latency P95/P99 (PZ-13920, PZ-13921)
   - Metadata retrieval timing

3. **Stress Testing**
   - Extreme configuration values
   - High throughput

4. **Concurrent Tasks**
   - Multiple simultaneous requests

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_job_capacity_limits.py` - 5+ ×‘×“×™×§×•×ª capacity
- `test_performance_high_priority.py` - 5+ ×‘×“×™×§×•×ª latency

### 1.6 Security Tests (5+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/security/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **Malformed Inputs**
   - Missing fields
   - Extreme values
   - Type violations
   - Injection attempts

2. **Robustness**
   - Invalid inputs handling
   - Error messages

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_malformed_input_handling.py` - 5+ ×‘×“×™×§×•×ª

### 1.7 E2E Tests (3+ ×‘×“×™×§×•×ª)

**××™×§×•×:** `tests/integration/e2e/`

#### ×ª×ª-×§×˜×’×•×¨×™×•×ª:

1. **Full Pipeline**
   - Configure â†’ Metadata â†’ gRPC (PZ-13570)

2. **Historic Playback Flow**
   - Complete end-to-end historic data retrieval (PZ-13872)

3. **SingleChannel Flow**
   - End-to-end SingleChannel view (PZ-13669)

#### ×§×‘×¦×™ ×‘×“×™×§×•×ª ×¢×™×§×¨×™×™×:

- `test_configure_metadata_grpc_flow.py` - E2E flow

---

## 2. ×‘×™×¦×•×¢×™× KPIs ×•×”×’×‘×œ×•×ª ×™×“×•×¢×•×ª

### 2.1 Performance KPIs

#### ××“×“×™ ×‘×™×¦×•×¢×™× × ×•×›×—×™×™×:

| ××“×“ | ×¢×¨×š × ×•×›×—×™ | ×™×¢×“ | ×¡×˜×˜×•×¡ |
|-----|-----------|-----|-------|
| **API Response Time (P95)** | 47,889ms | <500ms | âŒ |
| **API Response Time (P99)** | >60s | <1s | âŒ |
| **Single Job Latency** | 1.3s | <2s | âœ… |
| **System Capacity** | 40/200 jobs | 200 jobs | âŒ |
| **Success Rate (Single Job)** | 100% | >95% | âœ… |
| **Success Rate (5 Concurrent)** | ~80% | >95% | âš ï¸ |
| **Success Rate (10 Concurrent)** | 10-75% | >95% | âŒ |
| **Success Rate (20 Concurrent)** | 75% | >95% | âš ï¸ |

### 2.2 Known Limitations (×”×’×‘×œ×•×ª ×™×“×•×¢×•×ª)

#### ğŸ”´ CRITICAL - Backend Cannot Handle Load

**×‘×¢×™×”:**
- ×”××¢×¨×›×ª **×œ× ×™×›×•×œ×” ×œ×”×ª××•×“×“ ×¢× ×¢×•××¡ ××§×‘×™×œ×™**
- ×›××©×¨ × ×•×¦×¨×™× ××¡×¤×¨ jobs ×‘×•-×–×× ×™×ª:
  - Latency spikes: 1ms â†’ 47,889ms (P95)
  - Error rates: 21-90% ×ª×—×ª ×¢×•××¡ ×‘×™× ×•× ×™
  - Timeouts ××—×¨×™ 133-246 ×©× ×™×•×ª
  - Server ××—×–×™×¨ 500/502/504 errors

**× ×ª×•× ×™×:**
```
Single job: âœ… 1.3s latency, 100% success
5 concurrent: âš ï¸ ~80% success, some failures
10 concurrent: âŒ 10-75% success, high failure rate
20 concurrent: âš ï¸ 75% success, moderate failures
```

**×”×©×¤×¢×”:**
- ×× 10 ××©×ª××©×™× ×¤×•×ª×—×™× views ×‘×•-×–×× ×™×ª â†’ ×”××¢×¨×›×ª ×§×•×¨×¡×ª
- ×‘×“×™×§×•×ª ×¢×•××¡ ××¨××•×ª 10-90% failure rates
- ×œ× ××•×›×Ÿ ×œ×™×™×¦×•×¨ ×¢×‘×•×¨ ×ª×¨×—×™×©×™× ××¨×•×‘×™ ××©×ª××©×™×

**JIRA:** PZ-13986 - Infrastructure Capacity Gap (200 Jobs)

#### ğŸŸ  HIGH - MongoDB Indexes Missing

**×‘×¢×™×”:**
- Indexes ×§×¨×™×˜×™×™× ×—×¡×¨×™×: `start_time`, `end_time`, `uuid`, `deleted`
- History playback ×™×”×™×” **××™×˜×™ ×××•×“**
- Query performance ××•×©×¤×œ

**×”×©×¤×¢×”:**
- âŒ History playback ×™×”×™×” EXTREMELY slow
- âŒ Query performance ××•×©×¤×œ
- âŒ ×—×•×•×™×™×ª ××©×ª××© ×’×¨×•×¢×”

**JIRA:** PZ-13983 - MongoDB Indexes Missing

#### ğŸŸ  HIGH - Known Slowness Conditions

**×ª× ××™× ×©×’×•×¨××™× ×œ××™×˜×™×•×ª:**

1. **Concurrent Job Creation**
   - >5 jobs ×‘×•-×–×× ×™×ª â†’ ××™×˜×™×•×ª ××©××¢×•×ª×™×ª
   - >10 jobs â†’ failure rate ×’×‘×•×”

2. **MongoDB Queries Without Indexes**
   - Queries ×¢×œ `start_time`/`end_time` â†’ full table scan
   - Queries ×¢×œ `uuid` â†’ full table scan

3. **Heavy Configuration**
   - NFFT ×’×“×•×œ ×××•×“
   - Time range ×’×“×•×œ ×××•×“
   - Channel range ×’×“×•×œ ×××•×“

#### ğŸŸ  HIGH - Known Crashing Conditions

**×ª× ××™× ×©×’×•×¨××™× ×œ×§×¨×™×¡×”:**

1. **High Concurrent Load**
   - 10+ concurrent `/configure` requests â†’ 75-90% failure rate
   - Server ××—×–×™×¨ 500/502/504 errors
   - Connection pool exhausted

2. **Extreme Configuration Values**
   - NFFT ×’×“×•×œ ×××•×“ â†’ resource exhaustion
   - Time range ×’×“×•×œ ×××•×“ â†’ memory issues

3. **MongoDB Outage**
   - MongoDB down â†’ system cannot function
   - Requires manual recovery

### 2.3 Performance Benchmarks

#### Latency Benchmarks:

| Endpoint | P50 | P95 | P99 | Target | Status |
|----------|-----|-----|-----|--------|--------|
| **POST /configure** | 1.3s | 47.9s | >60s | <500ms | âŒ |
| **GET /metadata** | 80ms | 150ms | 200ms | <200ms | âœ… |
| **GET /channels** | 50ms | 100ms | 150ms | <100ms | âœ… |

#### Capacity Benchmarks:

| Load Level | Success Rate | Avg Latency | Status |
|------------|--------------|-------------|--------|
| **1 job** | 100% | 1.3s | âœ… |
| **5 jobs** | ~80% | 5-10s | âš ï¸ |
| **10 jobs** | 10-75% | 15-47s | âŒ |
| **20 jobs** | 75% | 20-50s | âš ï¸ |
| **200 jobs** | <10% | Timeout | âŒ |

---

## 3. ×‘×“×™×§×•×ª ××ª×—

### 3.1 Stress Tests Overview

**××™×§×•×:** `tests/stress/`, `tests/load/`

**×¡×”"×› ×‘×“×™×§×•×ª:** 6+ ×‘×“×™×§×•×ª ××ª×—

### 3.2 Windows/Tabs/Sensors Stress Tests

#### ×‘×“×™×§×•×ª Windows/Tabs:

**××™×§×•×:** `tests/load/test_job_capacity_limits.py`

1. **Baseline Performance Test**
   - Single job baseline
   - Success rate: 100%
   - Latency: ~1.3s

2. **Linear Load Test**
   - 5, 10, 20 concurrent jobs
   - Success rates: 80%, 75%, 75%
   - Latency measurement

3. **Stress Test**
   - 10+ concurrent jobs
   - Success rate: 10-75%
   - High failure rate

4. **Recovery Test**
   - System recovery after stress
   - Cleanup validation

#### ×‘×“×™×§×•×ª Sensors:

**××™×§×•×:** `tests/integration/api/test_prelaunch_validations.py`

1. **Channel Range Validation**
   - Valid channel ranges
   - Invalid channel ranges (PZ-13876)
   - Channel 0 rejection (PZ-13669)

2. **Sensor Range Stress**
   - Maximum sensor range
   - Minimum sensor range
   - Out of range sensors

**×§×‘×¦×™ ×‘×“×™×§×•×ª:**
- `test_job_capacity_limits.py` - 5+ ×‘×“×™×§×•×ª capacity
- `test_prelaunch_validations.py` - 10+ ×‘×“×™×§×•×ª validation

### 3.3 Normalization Modes Stress Tests

#### Normalization Modes:

**××™×§×•×:** `pz/microservices/pzwaterfall/widgets/tabs/spectrogram_tab.py`

**Modes ×–××™× ×™×:**
- Linear
- Log
- DPMW

**×‘×“×™×§×•×ª:**

1. **Normalization Mode Switching**
   - Linear â†’ Log
   - Log â†’ DPMW
   - DPMW â†’ Linear
   - Rapid switching

2. **Normalization Mode with Different Configurations**
   - Linear + NFFT 32
   - Log + NFFT 1024
   - DPMW + NFFT 2048

3. **Normalization Mode Stress**
   - Rapid mode switching
   - Mode switching during streaming
   - Mode switching during historic playback

**×¡×˜×˜×•×¡:** âš ï¸ **×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª ×—×œ×§×™×•×ª** - ×“×•×¨×© ×”×¨×—×‘×”

**×”××œ×¦×”:** ×œ×”×•×¡×™×£ ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª ××§×™×¤×•×ª ×œ-normalization modes

### 3.4 Extreme Configuration Stress Tests

**××™×§×•×:** `tests/stress/test_extreme_configurations.py`

#### ×‘×“×™×§×•×ª:

1. **Extreme NFFT Values**
   - NFFT = 0 (should reject)
   - NFFT = -1 (should reject)
   - NFFT = very large (2^20)

2. **Extreme Time Ranges**
   - Very long duration (1 year)
   - Very old timestamps
   - Future timestamps (should reject)

3. **Extreme Channel Ranges**
   - Maximum channel range
   - Out of range channels

4. **Extreme Frequency Ranges**
   - Maximum frequency range
   - Out of range frequencies

**JIRA:** PZ-13880 - Configuration with Extreme Values

---

## 4. Alerts Pipeline ×¢×“ GUI

### 4.1 Alerts Pipeline Overview

**××™×§×•×:** `ron_project/tests/panda/regression/alerts/`

**×¡×˜×˜×•×¡:** âš ï¸ **×‘×“×™×§×•×ª ×™×“× ×™×•×ª ×§×™×™××•×ª, ××•×˜×•××¦×™×” ×—×œ×§×™×ª**

### 4.2 Alerts Pipeline Components

#### 1. Backend Alerts Generation

**××™×§×•×:** Backend (Focus Server)

**×‘×“×™×§×•×ª:**
- Alert generation logic
- Alert severity levels
- Alert metadata

**×¡×˜×˜×•×¡:** âš ï¸ **×“×•×¨×© ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª**

#### 2. RabbitMQ Message Queue

**××™×§×•×:** `tests/infrastructure/test_rabbitmq_connectivity.py`

**×‘×“×™×§×•×ª:**
- RabbitMQ connectivity (PZ-13668)
- Message delivery
- Outage handling

**×¡×˜×˜×•×¡:** âœ… **×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª ×§×™×™××•×ª**

#### 3. Alerts Processing

**××™×§×•×:** Backend processing layer

**×‘×“×™×§×•×ª:**
- Alert processing logic
- Alert filtering
- Alert aggregation

**×¡×˜×˜×•×¡:** âš ï¸ **×“×•×¨×© ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª**

#### 4. GUI Alerts Display

**××™×§×•×:** `ron_project/tests/panda/regression/alerts/CreateNewAnalyzeFromAlert.py`

**×‘×“×™×§×•×ª ×™×“× ×™×•×ª:**
- Alert display in GUI
- Alert actions (create new analyze)
- Alert notifications

**×¡×˜×˜×•×¡:** âš ï¸ **×‘×“×™×§×•×ª ×™×“× ×™×•×ª ×§×™×™××•×ª, ××•×˜×•××¦×™×” ×—×œ×§×™×ª**

### 4.3 Alerts Pipeline E2E Tests

**××™×§×•×:** `tests/integration/e2e/`

**×‘×“×™×§×•×ª × ×“×¨×©×•×ª:**

1. **Alert Generation â†’ GUI Display**
   - Backend generates alert
   - Alert sent via RabbitMQ
   - GUI receives and displays alert
   - User can act on alert

2. **Alert Actions**
   - Create new analyze from alert
   - Dismiss alert
   - Alert filtering

**×¡×˜×˜×•×¡:** âš ï¸ **×“×•×¨×© ×¤×™×ª×•×—**

**×”××œ×¦×”:** ×œ×”×•×¡×™×£ ×‘×“×™×§×•×ª E2E ××§×™×¤×•×ª ×œ-alerts pipeline

---

## 5. ×‘×“×™×§×•×ª ×ª×›×•× ×•×ª GUI ×•×”×ª×××” ×œ×“×¨×™×©×•×ª

### 5.1 GUI Tests Overview

**××™×§×•×:** `tests/ui/`, `ron_project/tests/panda/`

**×¡×˜×˜×•×¡:** âš ï¸ **×‘×“×™×§×•×ª ×—×œ×§×™×•×ª - ×“×•×¨×© ×”×¨×—×‘×”**

### 5.2 GUI Features Tests

#### 1. Live Mode GUI

**××™×§×•×:** `tests/ui/generated/test_form_validation.py`

**×‘×“×™×§×•×ª:**
- Form validation
- Button interactions
- Basic UI elements

**×¡×˜×˜×•×¡:** âœ… **×‘×“×™×§×•×ª ×‘×¡×™×¡×™×•×ª ×§×™×™××•×ª**

#### 2. Historic Mode GUI

**××™×§×•×:** `ron_project/tests/panda/`

**×‘×“×™×§×•×ª ×™×“× ×™×•×ª:**
- Historic playback UI
- Time range selection
- Data display

**×¡×˜×˜×•×¡:** âš ï¸ **×‘×“×™×§×•×ª ×™×“× ×™×•×ª ×§×™×™××•×ª**

#### 3. View Types GUI

**××™×§×•×:** `tests/integration/api/test_singlechannel_view_mapping.py`

**×‘×“×™×§×•×ª API:**
- SingleChannel view API
- MultiChannel view API
- Waterfall view API

**×¡×˜×˜×•×¡:** âœ… **×‘×“×™×§×•×ª API ×§×™×™××•×ª**

**×—×¡×¨:** âš ï¸ **×‘×“×™×§×•×ª GUI ××œ××•×ª**

### 5.3 GUI Requirements Compliance

#### ×“×¨×™×©×•×ª GUI:

1. **Live Mode Requirements**
   - âœ… Real-time data display
   - âœ… Configuration UI
   - âš ï¸ Error handling UI (×“×•×¨×© ×‘×“×™×§×•×ª)

2. **Historic Mode Requirements**
   - âœ… Time range selection
   - âœ… Data playback
   - âš ï¸ Progress indicators (×“×•×¨×© ×‘×“×™×§×•×ª)

3. **View Types Requirements**
   - âœ… SingleChannel view
   - âœ… MultiChannel view
   - âœ… Waterfall view
   - âš ï¸ View switching (×“×•×¨×© ×‘×“×™×§×•×ª)

4. **Normalization Modes Requirements**
   - âœ… Linear mode
   - âœ… Log mode
   - âœ… DPMW mode
   - âš ï¸ Mode switching UI (×“×•×¨×© ×‘×“×™×§×•×ª)

**×¡×˜×˜×•×¡ ×›×œ×œ×™:** âš ï¸ **×‘×“×™×§×•×ª GUI ×—×œ×§×™×•×ª - ×“×•×¨×© ×”×¨×—×‘×”**

**×”××œ×¦×”:** ×œ×”×•×¡×™×£ ×‘×“×™×§×•×ª Playwright ××§×™×¤×•×ª ×œ-GUI features

---

## 6. ××‘× ×” Set Up ×‘××”×œ×š ××—×–×•×¨ Validation

### 6.1 Environment Setup

#### ×¡×‘×™×‘×•×ª ×–××™× ×•×ª:

| ×¡×‘×™×‘×” | IP | ×¡×˜×˜×•×¡ | ×©×™××•×© |
|-------|-----|--------|------|
| **Production** | 10.10.100.100 | âœ… | Production validation |
| **Staging** | 10.10.10.100 | âœ… | Pre-FAT validation |
| **Local** | localhost:5000 | âœ… | Development |

#### Configuration Files:

**××™×§×•×:** `config/environments.yaml`

```yaml
environments:
  production:
    backend: https://10.10.100.100/focus-server/
    frontend: https://10.10.10.100/liveView
    mongodb: 10.10.100.108:27017
    rabbitmq: 10.10.100.107:5672
    kubernetes: https://10.10.100.102:6443
    
  staging:
    backend: https://10.10.10.100/focus-server/
    frontend: https://10.10.10.100/liveView
    mongodb: 10.10.100.108:27017
    rabbitmq: 10.10.100.107:5672
```

### 6.2 Test Execution Setup

#### Test Execution Flow:

1. **Smoke Tests** (5 min)
   - Critical endpoints
   - Infrastructure connectivity

2. **Integration Tests** (30 min)
   - API validation
   - Business logic

3. **Infrastructure Tests** (20 min)
   - Outage scenarios
   - Resilience

4. **Data Quality Tests** (15 min)
   - Schema validation
   - Metadata validation

5. **Performance Tests** (45 min)
   - Load tests
   - Latency validation

6. **E2E Tests** (20 min)
   - Complete user flows

7. **Edge Cases** (25 min)
   - Boundary conditions

**×¡×”"×› ×–××Ÿ ×‘×™×¦×•×¢:** ~2.5 ×©×¢×•×ª (× ×™×ª×Ÿ ×œ××§×‘×œ ×œ-~1 ×©×¢×”)

### 6.3 Validation Cycle Structure

#### Pre-FAT Cycle:

**Week 1: Initial Validation**
- Smoke tests
- Critical path tests
- Known issues validation

**Week 2: Comprehensive Validation**
- Full test suite
- Performance tests
- Stress tests

**Week 3: Regression Validation**
- Regression tests
- Bug fixes validation
- Final validation

#### FAT Cycle:

**Week 1: FAT Preparation**
- Environment setup
- Test data preparation
- Test execution

**Week 2: FAT Execution**
- Full test suite execution
- Results analysis
- Bug reporting

**Week 3: FAT Closure**
- Bug fixes validation
- Final validation
- Sign-off

---

## 7. ×¡×˜×˜×•×¡ BIT

### 7.1 BIT Overview

**BIT = Built-In Tests** - microservice ×©×œ PZ ×©××¨×™×¥ ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª ×¢×œ ×›×œ ×”×¨×›×™×‘×™× ×‘××¢×¨×›×ª.

**××™×§×•×:** `external/pz/microservices/bit/`

### 7.2 BIT Status

#### BIT Components:

1. **BIT Test Registry**
   - Test directory structure
   - Test suite organization

2. **BIT Invokers**
   - Test executor
   - RabbitMQ producer (Telegraf)

3. **BIT Status Tracking**
   - Status tests
   - System status aggregation

#### BIT Usage in QA:

**×¡×˜×˜×•×¡:** âš ï¸ **×©×™××•×© ×—×œ×§×™**

**×”×—×œ×˜×” (×-24.03.2025):**
- âœ… **×‘×ª×—×™×œ×”:** ×©×™××•×© ×‘-BIT
- âš ï¸ **×‘×”××©×š:** ×™×™×©×•× ×›×œ×™ ×¢×¦×××™ ×¢×œ ×™×“×™ ×¦×•×•×ª QA

**×¡×™×‘×•×ª:**
- BIT ×”×•× ×—×œ×§ ××”××•×¦×¨ â†’ ×¦×¨×™×š ×œ×”×™×‘×“×§ ×’×
- BIT quality ×œ× ××•×›×— â†’ ×¦×¨×™×š ×œ×”×•×›×™×— ×¢×œ ×™×“×™ QA
- Telegraf dependent â†’ layer × ×•×¡×£ ×©×œ ×¡×™×›×•×Ÿ
- QA ×¨×•×¦×” ×œ×‘×“×•×§ whole flow (MongoDB dump), ×œ× ×¨×§ Collector data

### 7.3 BIT Tests Status

**××™×§×•×:** `docs/06_project_management/programs/BIT_REUSABILITY_FOR_QA_FULL_UPDATED.md`

**×¡×˜×˜×•×¡:**
- âœ… BIT infrastructure ×§×™×™×
- âš ï¸ QA tests ××©×ª××©×™× ×‘-BIT ×—×œ×§×™×ª
- âš ï¸ ×“×•×¨×© ×”×¨×—×‘×” ×œ×‘×“×™×§×•×ª ××§×™×¤×•×ª ×™×•×ª×¨

**×”××œ×¦×”:** ×œ×”××©×™×š ×œ×”×©×ª××© ×‘-BIT ×›×›×œ×™ × ×•×¡×£, ××š ×œ× ×›×›×œ×™ ×™×—×™×“

---

## 8. ×¤×¨××˜×¨×™×/×”×’×“×¨×•×ª SW-HW

### 8.1 Software Parameters

#### Configuration Parameters:

**××™×§×•×:** `config/environments.yaml`, `config/settings.yaml`

#### Backend Parameters:

1. **API Endpoints**
   - `/configure` - Job configuration
   - `/metadata/{job_id}` - Job metadata
   - `/channels` - Available channels
   - `/recordings_in_time_range` - Historic data

2. **Timeouts**
   - Connection timeout: 60s
   - Read timeout: 60s
   - Retry attempts: 3

3. **Rate Limiting**
   - Max concurrent requests: 50
   - Rate limiter: Semaphore(50)

#### Frontend Parameters:

1. **PandaApp Configuration**
   - Config file: `C:\Panda\usersettings.json`
   - Executable: `C:\Program Files\Prisma\PandaApp\PandaApp-1.2.41.exe`
   - SavedData: `C:\Panda\SavedData`

2. **Frontend URLs**
   - Backend: `https://10.10.100.100/focus-server/`
   - Frontend: `https://10.10.10.100/liveView`
   - Site ID: `prisma-210-1000`

### 8.2 Hardware Parameters

#### Infrastructure Components:

1. **MongoDB**
   - Host: 10.10.100.108
   - Port: 27017
   - Type: LoadBalancer service

2. **RabbitMQ**
   - Host: 10.10.100.107
   - AMQP Port: 5672
   - Management UI: 15672
   - Type: LoadBalancer service

3. **Kubernetes**
   - API Server: 10.10.100.102:6443
   - Namespace: panda
   - Focus Server: ClusterIP 10.43.103.101:5000

4. **SSH Access**
   - Jump host: 10.10.100.3 (root)
   - Target host: 10.10.100.113 (prisma)

### 8.3 Configuration Validation

#### ×‘×“×™×§×•×ª Configuration:

**××™×§×•×:** `tests/unit/test_config_loading.py`

**×‘×“×™×§×•×ª:**
- Environment loading
- Invalid environment handling
- Nested config access
- Default values

**×¡×˜×˜×•×¡:** âœ… **12 ×‘×“×™×§×•×ª ×§×™×™××•×ª**

---

## 9. ×‘×“×™×§×•×ª ××¤×ª×— ××—×¨×•×ª

### 9.1 Critical Bugs Found by Automation

#### 4 ×‘××’×™× ×§×¨×™×˜×™×™× ×©× ××¦××•:

| JIRA Issue | ×ª×™××•×¨ | ×¢×“×™×¤×•×ª | ×¡×˜×˜×•×¡ |
|------------|-------|--------|--------|
| **PZ-13984** | Backend accepts future timestamps | ×’×‘×•×” | ×¤×ª×•×— |
| **PZ-13985** | GET /metadata missing 2 required fields | ×’×‘×•×” | ×¤×ª×•×— |
| **PZ-13986** | System handles only 40/200 concurrent jobs | ×’×‘×•×” | ×¤×ª×•×— |
| **PZ-13983** | Missing deleted index | × ××•×š | ×¡×’×•×¨ |

### 9.2 Xray Integration

#### Xray Mapping Status:

- **Total Tests:** 113 tests in Xray
- **Mapped Tests:** 101 tests (89.4%)
- **Unmapped Tests:** 12 tests (10.6%)

#### Xray Test Plan:

**Test Plan:** PZ-13756

**Categories:**
- Integration Tests: 59 (59%)
- API Tests: 19 (19%)
- Performance Tests: 8 (8%)
- Data Quality Tests: 5 (5%)
- Infrastructure Tests: 3 (3%)

### 9.3 Test Execution Results

#### Latest Test Run (2025-10-29):

**×¡×˜×˜×™×¡×˜×™×§×•×ª:**
- **Total Tests:** 307
- **Passed:** 238 (77.5%)
- **Failed:** 61 (19.9%)
- **Skipped:** 8
- **Errors:** 4
- **Duration:** 35 minutes 35 seconds

#### Failure Breakdown:

1. **Server Overload & Performance:** 35 failures
2. **MongoDB Issues:** 12 failures
3. **Validation Bugs:** 8 failures
4. **Infrastructure Access Issues:** 13 failures
5. **Test Code Issues:** 6 failures
6. **UI Tests:** 2 failures (out of scope)

### 9.4 Test Coverage

#### Coverage by Category:

| ×§×˜×’×•×¨×™×” | Coverage | ×¡×˜×˜×•×¡ |
|---------|----------|--------|
| **API Endpoints** | 100% | âœ… |
| **Critical Flows** | 100% | âœ… |
| **Infrastructure** | 100% | âœ… |
| **Edge Cases** | 90%+ | âœ… |

### 9.5 Known Issues & Workarounds

#### Known Issues:

1. **Backend Load Issues**
   - **Issue:** Cannot handle >5 concurrent jobs
   - **Workaround:** Limit concurrent requests
   - **Fix:** Backend optimization required

2. **MongoDB Indexes Missing**
   - **Issue:** Missing critical indexes
   - **Workaround:** Manual index creation
   - **Fix:** Run index creation script

3. **Kubernetes SSL Certificate**
   - **Issue:** Self-signed certificate
   - **Workaround:** `verify_ssl: false`
   - **Fix:** Proper certificate setup

---

## ğŸ“Š ×¡×™×›×•× ×•×”××œ×¦×•×ª

### âœ… × ×§×•×“×•×ª ×—×•×–×§:

1. **×ª×•×›× ×™×ª ×‘×“×™×§×•×ª ××§×™×¤×”** - 230+ ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª
2. **×©×™×œ×•×‘ Xray** - 89.4% mapping
3. **×‘×“×™×§×•×ª ×‘×™×¦×•×¢×™×** - 10+ ×‘×“×™×§×•×ª
4. **×‘×“×™×§×•×ª ××ª×—** - 6+ ×‘×“×™×§×•×ª
5. **×‘××’×™× ×§×¨×™×˜×™×™× × ××¦××•** - 4 ×‘××’×™×

### âš ï¸ ×ª×—×•××™× ×œ×©×™×¤×•×¨:

1. **×‘×™×¦×•×¢×™× ×ª×—×ª ×¢×•××¡** - ×“×•×¨×© ××•×¤×˜×™××™×–×¦×™×” ×©×œ Backend
2. **×‘×“×™×§×•×ª GUI** - ×“×•×¨×© ×”×¨×—×‘×”
3. **Alerts Pipeline** - ×“×•×¨×© ×‘×“×™×§×•×ª E2E ××§×™×¤×•×ª
4. **Normalization Modes** - ×“×•×¨×© ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª × ×•×¡×¤×•×ª
5. **BIT Integration** - ×“×•×¨×© ×©×™××•×© ××§×™×£ ×™×•×ª×¨

### ğŸ¯ ×”××œ×¦×•×ª:

1. **××™×™×“×™:**
   - ×œ×ª×§×Ÿ MongoDB indexes
   - ×œ×“×•×•×— ×¢×œ ×‘×¢×™×•×ª ×‘×™×¦×•×¢×™× ×œ×¦×•×•×ª Backend
   - ×œ×”×¨×—×™×‘ ×‘×“×™×§×•×ª GUI

2. **×§×¦×¨ ×˜×•×•×— (×©×‘×•×¢-×©×‘×•×¢×™×™×):**
   - ×œ×”×•×¡×™×£ ×‘×“×™×§×•×ª E2E ×œ-Alerts Pipeline
   - ×œ×”×•×¡×™×£ ×‘×“×™×§×•×ª ××•×˜×•××˜×™×•×ª ×œ-Normalization Modes
   - ×œ×©×¤×¨ ×‘×“×™×§×•×ª GUI

3. **×‘×™× ×•× ×™ ×˜×•×•×— (×—×•×“×©):**
   - ×œ×”×©×œ×™× ×‘×“×™×§×•×ª GUI ××§×™×¤×•×ª
   - ×œ×”×¨×—×™×‘ ×‘×“×™×§×•×ª BIT
   - ×œ×©×¤×¨ ×‘×“×™×§×•×ª ×‘×™×¦×•×¢×™×

---

## ğŸ“ × ×¡×¤×—×™×

### ××¡××›×™× ×§×©×•×¨×™×:

1. **Test Plan Master Document:** `docs/06_project_management/FOCUS_SERVER_TEST_PLAN_MASTER.md`
2. **Test Results Analysis:** `docs/04_testing/test_results/TEST_FAILURES_ANALYSIS_2025-10-29.md`
3. **QA Team Work Plan:** `docs/06_project_management/programs/QA_TEAM_WORK_PLAN.md`
4. **BIT Status:** `docs/06_project_management/programs/BIT_REUSABILITY_FOR_QA_FULL_UPDATED.md`

### ×§×™×©×•×¨×™× ××”×™×¨×™×:

- **Test Execution:** `pytest tests/ -v`
- **With Monitoring:** `pytest tests/ --monitor-pods -v`
- **Specific Category:** `pytest -m integration`
- **Xray Integration:** `pytest tests/ --xray`

---

**××¡××š ×–×” ××•×›×Ÿ ×œ×¡×§×™×¨×” ×•×”×¢×¨×•×ª.**

**××›×™×Ÿ:** ×¦×•×•×ª QA Automation  
**×ª××¨×™×š:** 2025-11-07  
**×’×¨×¡×”:** 1.0

