# טבלאות בדיקות לוד לייב - סיכום מסודר

## קובץ 1: test_gradual_live_load.py (6 בדיקות)

### בדיקות Gradual Load (עלייה הדרגתית בעומס)

| # | שם הבדיקה | תיאור | התחלה | גודל צעד | מקסימום | סה"כ צעדים | קטגוריה |
|---|-----------|-------|--------|----------|----------|------------|----------|
| 1 | `test_full_gradual_load_5_to_100` | בדיקת עלייה הדרגתית מלאה | 5 | +5 | 100 | 20 | Gradual Load |
| 2 | `test_quick_gradual_load` | בדיקה מהירה ל-CI | 2 | +2 | 10 | 5 | Gradual Load |
| 3 | `test_gradual_load_stability` | יציבות תחת עלייה הדרגתית | 5 | +5 | 25 | 5 | Gradual Load |
| 4 | `test_high_concurrency_gradual` | עומס גבוה, צעדים גדולים | 10 | +10 | 100 | 10 | Gradual Load |
| 5 | `test_burst_then_gradual_30_to_100` | Burst + עלייה הדרגתית | 30 | +5 | 100 | 15 | Gradual Load |
| 6 | `test_gradual_load_with_heavy_channels` | עלייה הדרגתית עם ערוצים כבדים | 3 | +3 | 15 | 5 | Gradual Load |

**פרטים נוספים:**
- **Xray Markers:** PZ-LOAD-300 עד PZ-LOAD-312
- **מאפיינים:** בדיקות מצטברות - כל צעד מוסיף ג'ובים ללא מחיקה עד סוף הבדיקה
- **ניטור:** עדכוני סטטוס כל 2 דקות
- **הפסקה מוקדמת:** עצירה לאחר 3 כשלים רצופים

---

## קובץ 2: test_live_load.py (7 בדיקות)

### בדיקות Lifecycle & SLA

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | בדיקות עיקריות | Xray |
|---|-----------|-------|-------------|--------|----------------|------|
| 1 | `test_single_live_job` | ג'וב בודד, מחזור חיים מלא | 1 | 1 | Configure → gRPC → Stream → Disconnect | PZ-15234 |
| 2 | `test_live_job_timing` | תזמון SLA | 5 | 2 | P95 זמן כולל, שיעור הצלחה | PZ-15235 |
| 3 | `test_concurrent_live_jobs` | מספר ג'ובים מקבילים | 6 | 3 | שיעור הצלחה תחת מקביליות | PZ-15236 |
| 4 | `test_live_retry_behavior` | התנהגות ניסיונות חוזרים | 5 | 2 | ממוצע ניסיונות חוזרים, הצלחת ניסיונות | PZ-15237 |

### בדיקות Heavy Load

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | ערוצים / ג'וב | Xray |
|---|-----------|-------|-------------|--------|---------------|------|
| 5 | `test_heavy_channel_live` | תרחיש ערוצים כבדים | 3 | 1 | 500 | PZ-15238 |
| 6 | `test_sustained_live_load` | עומס לייב מתמשך | 10 | 2 | 50 | PZ-15239 |

### בדיקות Stress

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | Xray |
|---|-----------|-------|-------------|--------|------|
| 7 | `test_max_concurrent_live` | עומס מקסימלי מקביל | 5 | 5 | PZ-15240 |

**פרטים נוספים:**
- **Markers:** `@pytest.mark.live`, `@pytest.mark.load`, `@pytest.mark.job_load`
- **SLA:** תזמונים שונים ל-Production ו-Staging
- **Retry Logic:** עד 5 ניסיונות חוזרים לחיבור gRPC

---

## קובץ 3: test_live_job_load.py (7 בדיקות)

### בדיקות Basic

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | Xray |
|---|-----------|-------|-------------|--------|------|
| 1 | `test_single_live_job_flow` | זרימת ג'וב לייב בודד | 1 | 1 | PZ-LOAD-100 |
| 2 | `test_live_job_timing_sla` | תזמון SLA | 5 | 2 | PZ-LOAD-101 |
| 3 | `test_concurrent_live_jobs` | מספר ג'ובים מקבילים | 6 | 3 | PZ-LOAD-102 |
| 4 | `test_grpc_retry_behavior` | התנהגות ניסיונות חוזרים gRPC | 5 | 2 | PZ-LOAD-103 |

### בדיקות Heavy

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | Xray |
|---|-----------|-------|-------------|--------|------|
| 5 | `test_heavy_channel_load` | עומס ערוצים כבד | 3 | 1 | PZ-LOAD-110 |
| 6 | `test_sustained_live_job_load` | עומס ג'וב לייב מתמשך | 10 | 2 | PZ-LOAD-111 |

### בדיקות Stress

| # | שם הבדיקה | תיאור | סה"כ ג'ובים | מקביל | Xray |
|---|-----------|-------|-------------|--------|------|
| 7 | `test_max_concurrent_jobs` | מקסימום ג'ובים מקבילים | 5 | 5 | PZ-LOAD-120 |

**פרטים נוספים:**
- **Markers:** `@pytest.mark.live_job_load`, `@pytest.mark.load`
- **קטגוריות:** `@pytest.mark.heavy`, `@pytest.mark.stress`
- **מאפיינים:** בדיקות מחזור חיים מלא עם retry logic

---

## סיכום לפי קטגוריה

| קטגוריה | מינימום ג'ובים | מקסימום ג'ובים | הערות |
|---------|----------------|----------------|--------|
| **Gradual Load** | 2 | 100 | עלייה הדרגתית, מספר ג'ובים במקביל |
| **Basic Tests** | 1 | 6 | כיסוי פונקציונלי ו-SLA |
| **Heavy Load** | 3 | 10 | פחות ג'ובים, הרבה ערוצים לכל ג'וב |
| **Stress** | 5 | 5 | כל הג'ובים רצים במקביל מלא |

---

## השוואה בין הקבצים

| מאפיין | test_gradual_live_load.py | test_live_load.py | test_live_job_load.py |
|--------|---------------------------|-------------------|----------------------|
| **מספר בדיקות** | 6 | 7 | 7 |
| **סוג בדיקה** | Gradual (עלייה הדרגתית) | Lifecycle & Load | Lifecycle & Load |
| **גישה** | מצטברת (accumulative) | מקבילית | מקבילית |
| **ניטור** | כל 2 דקות | בזמן אמת | בזמן אמת |
| **Xray Markers** | PZ-LOAD-300+ | PZ-15234+ | PZ-LOAD-100+ |
| **מטרה עיקרית** | מציאת נקודת שבירה | בדיקת SLA | בדיקת מחזור חיים |

---

## הערות חשובות

1. **Gradual Load Tests:**
   - בדיקות מצטברות - כל צעד מוסיף ג'ובים ללא מחיקה
   - ניטור רקע כל 2 דקות
   - הפסקה מוקדמת לאחר 3 כשלים רצופים

2. **Live Load Tests:**
   - בדיקות מחזור חיים מלא
   - תמיכה ב-retry logic (עד 5 ניסיונות)
   - SLA שונה ל-Production ו-Staging

3. **Live Job Load Tests:**
   - בדיקות מחזור חיים מפורטות
   - בדיקות עומס כבד עם 500 ערוצים
   - בדיקות stress למקסימום מקביליות

---

**תאריך יצירה:** 2025-11-30  
**מחבר:** QA Automation Architect

