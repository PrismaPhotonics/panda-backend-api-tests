# ğŸ“š ×”×¡×‘×¨ ××¤×•×¨×˜: ×§×˜×’×•×¨×™×•×ª ×”×˜×¡×˜×™× ×”×—×¡×¨×™× ×‘-Jira

**×ª××¨×™×š:** 20 ××•×§×˜×•×‘×¨ 2025  
**××˜×¨×”:** ×”×¡×‘×¨ ××” ×›×œ ×§×˜×’×•×¨×™×” ×‘×•×“×§×ª ×•××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server

---

## 1ï¸âƒ£ **ROI Tests (25 ×˜×¡×˜×™×) - Region of Interest**

### **××” ×–×” ROI?**
**ROI (Region of Interest)** = ××–×•×¨ ×¢× ×™×™×Ÿ ×‘××“×™×“×ª ×”×¡×™×‘  
×–×” **×˜×•×•×— ×”×¢×¨×•×¦×™×/×—×™×™×©× ×™×** ×©×”××©×ª××© ×¨×•×¦×” ×œ×¨××•×ª ×‘×–××Ÿ ×××ª.

### **××™×š ×–×” ×¢×•×‘×“ ×‘-Focus Server?**

1. **×”×ª×—×œ×”:** ××©×ª××© ××’×“×™×¨ live monitoring ×¢× ×¢×¨×•×¦×™× 1-100
2. **×‘×–××Ÿ ×¨×™×¦×”:** ××©×ª××© ×¨×•×¦×” ×œ×–×•× ×œ×¢×¨×•×¦×™× 40-60 (ROI ×—×“×©)
3. **Focus Server:** ××§×‘×œ ×¤×§×•×“×” ×“×¨×š **RabbitMQ** ×œ×©× ×•×ª ROI
4. **Baby Analyzer:** ×××ª×—×œ ××—×“×© ×¢× ×”-ROI ×”×—×“×©
5. **×ª×•×¦××”:** ××¢×¨×›×ª ××ª×—×™×œ×” ×œ×©×“×¨ ×¨×§ ××ª ×¢×¨×•×¦×™× 40-60

### **×œ××” ×–×” ×—×©×•×‘?**
- ğŸ¯ **×ª×›×•× ×” ×§×¨×™×˜×™×ª** - ××©×ª××©×™× ××©× ×™× ROI ×›×œ ×”×–××Ÿ ×‘×©×™××•×© ×™×•××™×•××™
- ğŸš€ **×‘×™×¦×•×¢×™×** - ×××¤×©×¨ ×œ×”×ª××§×“ ×‘××–×•×¨ ×¡×¤×¦×™×¤×™ ×‘××§×•× ×œ×©×“×¨ ×”×›×œ
- ğŸ”„ **×“×™× ××™** - ×¦×¨×™×š ×œ×¢×‘×•×“ ×‘×–××Ÿ ×××ª ×‘×œ×™ ×œ×”×¤×¡×™×§ monitoring

### **×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**

```python
# Test 1: ×©×™× ×•×™ ROI ×‘×¡×™×¡×™
test_roi_change_affects_waterfall_data()
# ×‘×•×“×§: ×©×™× ×•×™ ROI ×-[0-100] ×œ-[40-60] ××©×¤×™×¢ ×¢×œ ×”× ×ª×•× ×™× ×”××•×—×–×¨×™×

# Test 2: ×©×™× ×•×™ ROI ××”×™×¨
test_multiple_roi_changes_sequence()
# ×‘×•×“×§: 5 ×©×™× ×•×™×™ ROI ×‘×¨×¦×£ ××ª×‘×¦×¢×™× ×‘×”×¦×œ×—×”

# Test 3: ROI ×œ× ×ª×§×™×Ÿ
test_unsafe_roi_change()
# ×‘×•×“×§: ××¢×¨×›×ª ×“×•×—×” ROI ×©×œ× ×”×’×™×•× ×™ (×›××• min > max)

# Test 4: ROI ×‘×’×‘×•×œ×•×ª
test_roi_with_negative_start()
# ×‘×•×“×§: ××¢×¨×›×ª ×“×•×—×” ROI ×¢× ×¢×¨×›×™× ×©×œ×™×œ×™×™×
```

### **API/×ª×”×œ×™×›×™× ××¢×•×¨×‘×™×:**
- âœ… POST `/config/{task_id}` - ×”×’×“×¨×” ×¨××©×•× ×™×ª
- âœ… RabbitMQ `RegionOfInterestCommand` - ×©×™× ×•×™ ×“×™× ××™
- âœ… GET `/waterfall` - ×•×™×“×•× ×©×”-ROI ×”×©×ª× ×”
- âœ… Baby Analyzer reinitialization - ××™×ª×—×•×œ ××—×“×©

### **×œ××” ×–×” ×œ× ×‘-Jira?**
×”×˜×¡×˜×™× ×”××œ×” ×¤×•×ª×—×• **××—×¨×™** ×©×”×˜×¡×˜×™× ×‘-Jira × ×›×ª×‘×•, ×›×™ ×”×ª×›×•× ×” ×”×ª×¤×ª×—×” ×•× ×”×™×™×ª×” ×™×•×ª×¨ ××•×¨×›×‘×ª.

---

## 2ï¸âƒ£ **Infrastructure Tests (25 ×˜×¡×˜×™×)**

### **××” ×–×” Infrastructure Tests?**
×˜×¡×˜×™× ×©×‘×•×“×§×™× **×§×™×©×•×¨×™×•×ª ×•×ª×§×™× ×•×ª ×”×ª×©×ª×™×ª** ×©×”-Focus Server ×ª×œ×•×™ ×‘×”.

### **×œ××” Focus Server ×¦×¨×™×š ××ª ×”×ª×©×ª×™×•×ª ×”××œ×”?**

#### **A. MongoDB (8 ×˜×¡×˜×™×)**
**××” ×–×”?** ××¡×“ × ×ª×•× ×™× ×©×‘×• Focus Server ×©×•××¨:
- ğŸ“Š Metadata ×©×œ recordings
- ğŸ“ ×§×•× ×¤×™×’×•×¨×¦×™×•×ª
- ğŸ” ×”×™×¡×˜×•×¨×™×” ×©×œ jobs

**×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**
```python
# Test 1: ×—×™×‘×•×¨ ×‘×¡×™×¡×™
test_mongodb_direct_connection()
# ×‘×•×“×§: Focus Server ×™×›×•×œ ×œ×”×ª×—×‘×¨ ×œ-MongoDB

# Test 2: ×¡×˜×˜×•×¡ MongoDB
test_mongodb_status_via_kubernetes()
# ×‘×•×“×§: MongoDB ×¨×¥ ×•×ª×§×™×Ÿ ×‘-Kubernetes

# Test 3: MongoDB ping ××”×™×¨
test_quick_mongodb_ping()
# ×‘×•×“×§: ×–××Ÿ ×ª×’×•×‘×” ×©×œ MongoDB (< 100ms)
```

**××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**
- âŒ **××™×Ÿ MongoDB** â†’ Focus Server ×œ× ×™×›×•×œ ×œ×©××•×¨ metadata ×©×œ recordings
- âŒ **MongoDB ××™×˜×™** â†’ Historical playback ×œ× ×™×¢×‘×•×“
- âŒ **MongoDB ×× ×•×ª×§** â†’ ×œ× × ×™×ª×Ÿ ×œ×©××•×œ ××™×–×” recordings ×§×™×™××™×

---

#### **B. Kubernetes (8 ×˜×¡×˜×™×)**
**××” ×–×”?** ×¤×œ×˜×¤×•×¨××ª ×”×ª×–××•×Ÿ ×©×¢×œ×™×” Focus Server **×¨×¥**.

**×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**
```python
# Test 1: ×—×™×‘×•×¨ ×œ-K8s cluster
test_kubernetes_connection()
# ×‘×•×“×§: ××¤×©×¨ ×œ×”×ª×—×‘×¨ ×œ-Kubernetes API

# Test 2: ×¨×©×™××ª pods
test_kubernetes_list_pods()
# ×‘×•×“×§: ×¨×•××™× ××ª ×”-Focus Server pods

# Test 3: ×¨×©×™××ª deployments
test_kubernetes_list_deployments()
# ×‘×•×“×§: Deployments ×ª×§×™× ×™× ×•-ready
```

**××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**
- âœ… **Focus Server ×¨×¥ ×¢×œ K8s** - ×¦×¨×™×š ×’×™×©×” ×œ××¢×¨×›×ª
- âœ… **Baby Analyzer ×¨×¥ ×¢×œ K8s** - × ×•×¦×¨ ×›-Job
- âœ… **gRPC Service ×¨×¥ ×¢×œ K8s** - × ×•×¦×¨ ×›-Service
- âœ… **Monitoring & Logs** - ×›×œ ×”××™×“×¢ ×“×¨×š K8s

---

#### **C. RabbitMQ (4 ×˜×¡×˜×™×)**
**××” ×–×”?** Message Queue ×œ×ª×§×©×•×¨×ª ××¡×™× ×›×¨×•× ×™×ª.

**×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**
```python
# Test: ×—×™×‘×•×¨ ×œ-RabbitMQ
# ×‘×•×“×§: Focus Server ×™×›×•×œ ×œ×©×œ×•×— ×¤×§×•×“×•×ª ×œ-Baby Analyzer
```

**××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**
- ğŸ”„ **ROI Changes** - × ×©×œ×—×™× ×“×¨×š RabbitMQ
- ğŸ¨ **Colormap Changes** - × ×©×œ×—×™× ×“×¨×š RabbitMQ
- â¸ï¸ **Keepalive** - × ×©×œ×— ×“×¨×š RabbitMQ

---

#### **D. SSH (3 ×˜×¡×˜×™×)**
**××” ×–×”?** ×’×™×©×” ××¨×—×•×§ ×œ×©×¨×ª×™×.

**×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**
```python
# Test 1: SSH connection
test_ssh_connection()
# ×‘×•×“×§: ××¤×©×¨ ×œ×”×ª×—×‘×¨ ×œworker node

# Test 2: SSH network operations
test_ssh_network_operations()
# ×‘×•×“×§: ××¤×©×¨ ×œ×”×¨×™×¥ ×¤×§×•×“×•×ª (logs, kubectl)
```

**××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**
- ğŸ” **Debugging** - ×œ×¨××•×ª logs ×©×œ Focus Server
- ğŸ“Š **Monitoring** - ×œ×‘×“×•×§ ××©××‘×™×
- ğŸ› ï¸ **Troubleshooting** - ×œ××‘×—×Ÿ ×‘×¢×™×•×ª

---

#### **E. PZ Integration (5 ×˜×¡×˜×™×)**
**××” ×–×”?** ×’×™×©×” ×œ×§×•×“ ×”×¤×™×ª×•×— ×©×œ PZ.

**×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**
```python
# Test 1: ×’×™×©×” ×œ-Focus Server
test_pz_focus_server_access()
# ×‘×•×“×§: ××¤×©×¨ ×œ×’×©×ª ×œ×§×•×“ ×©×œ Focus Server

# Test 2: ×¨×©×™××ª microservices
test_pz_microservices_listing()
# ×‘×•×“×§: ×¨×•××™× ××ª ×›×œ ×”×©×™×¨×•×ª×™× (Baby Analyzer, gRPC, etc.)
```

**××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**
- ğŸ“– **Documentation** - ×œ×”×‘×™×Ÿ ××™×š Focus Server ×¢×•×‘×“
- ğŸ› **Debug** - ×œ×¨××•×ª ×§×•×“ ××§×•×¨ ×‘×‘×¢×™×•×ª
- ğŸ”„ **Integration** - ×œ×•×•×“× ×©×”×’×¨×¡××•×ª ×ª×•×××•×ª

---

### **×œ××” ×–×” ×—×©×•×‘?**
×× **××—×“ ××”×©×™×¨×•×ª×™× ×”××œ×” ×œ× ×¢×•×‘×“**, Focus Server **×œ× ×™×¢×‘×•×“**!

| ×©×™×¨×•×ª | ×× × ×•×¤×œ | ×ª×•×¦××” |
|-------|---------|-------|
| MongoDB | âŒ | ××™×Ÿ historical playback |
| Kubernetes | âŒ | Focus Server ×œ× ×¨×¥ |
| RabbitMQ | âŒ | ××™×Ÿ ROI/Colormap changes |
| SSH | âš ï¸ | ××™ ××¤×©×¨ ×œdebug |
| PZ | âš ï¸ | ××™ ××¤×©×¨ ×œ×ª×—×–×§ |

### **×œ××” ×–×” ×œ× ×‘-Jira?**
×”×˜×¡×˜×™× ×”××œ×” ×”× **×‘×“×™×§×•×ª ×ª×©×ª×™×ª** ×©× ×›×ª×‘×• ×›×“×™ **×œ××‘×—×Ÿ ×‘×¢×™×•×ª** ×‘×¡×‘×™×‘×”. ×”× ×œ× ×‘×“×§×• ×‘×–××Ÿ ×©×”-Jira × ×›×ª×‘.

---

## 3ï¸âƒ£ **SingleChannel Extended (15 ×˜×¡×˜×™×)**

### **××” ×–×” SingleChannel View?**
**××¦×‘ ×ª×¦×•×’×”** ×©×‘×• ××©×ª××© ×¨×•××” **×¢×¨×•×¥ ×‘×•×“×“** ×‘××§×•× ×›×œ ×”×¢×¨×•×¦×™×.

### **××™×š ×–×” ×¢×•×‘×“ ×‘-Focus Server?**

**×ª×¦×•×’×” ×¨×’×™×œ×” (MultiChannel):**
```
Channels 1-100 â†’ 10 streams (×›×œ stream = 10 channels)
```

**×ª×¦×•×’×” SingleChannel:**
```
Channel 50 ×‘×œ×‘×“ â†’ 1 stream (×¨×§ channel 50)
```

### **×œ××” ×–×” ×—×©×•×‘?**
- ğŸ¯ **Zoom in** - ×œ×”×ª××§×“ ×‘×¢×¨×•×¥ ×‘×•×“×“
- ğŸš€ **×‘×™×¦×•×¢×™×** - ×¤×—×•×ª × ×ª×•× ×™× ×œ×©×“×¨
- ğŸ”¬ **× ×™×ª×•×—** - ×œ×¨××•×ª ×¤×¨×˜×™× ×©×œ ×¢×¨×•×¥ ××—×“

### **×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**

```python
# Test 1: SingleChannel ×¢×‘×•×¨ ×¢×¨×•×¥ 1
test_configure_singlechannel_channel_1()
# ×‘×•×“×§: view_type=1, channels={min:1, max:1}

# Test 2: SingleChannel ×¢×‘×•×¨ ×¢×¨×•×¥ 100
test_configure_singlechannel_channel_100()
# ×‘×•×“×§: ×¢×¨×•×¥ ×‘×§×¦×” ×”×¢×œ×™×•×Ÿ

# Test 3: Mapping ×©×•× ×™× ×œ×¢×¨×•×¦×™× ×©×•× ×™×
test_different_channels_different_mappings()
# ×‘×•×“×§: channel 1 â†’ stream_index 0, channel 50 â†’ stream_index 49

# Test 4: ×¢×§×‘×™×•×ª
test_same_channel_multiple_requests_consistent_mapping()
# ×‘×•×“×§: ××•×ª×• ×¢×¨×•×¥ ×ª××™×“ ××§×‘×œ ××•×ª×• mapping

# Test 5: SingleChannel vs MultiChannel
test_singlechannel_vs_multichannel_comparison()
# ×‘×•×“×§: ×”×”×‘×“×œ×™× ×‘×™×Ÿ ×©× ×™ ×”××¦×‘×™×
```

### **API ××¢×•×¨×‘:**
- âœ… POST `/config/{task_id}` ×¢× `view_type=1`
- âœ… Response ××›×™×œ `channel_to_stream_index` mapping

### **×œ××” ×–×” ×œ× ×‘-Jira?**
×‘-Jira ×™×© **×˜×¡×˜ ××—×“ ×‘×¡×™×¡×™** (PZ-13556), ××‘×œ ×”×˜×¡×˜×™× ×”××œ×” ×‘×•×“×§×™×:
- âœ… ×›×œ ×’×‘×•×œ×•×ª ×”×¢×¨×•×¦×™× (1, 100, ×‘×××¦×¢)
- âœ… Edge cases (×¢×¨×•×¥ 0, ×¢×¨×•×¥ ×©×œ×™×œ×™)
- âœ… Consistency (××•×ª×• ×¢×¨×•×¥ = ××•×ª×• mapping)
- âœ… Invalid cases (min â‰  max)

---

## 4ï¸âƒ£ **Config Validation (30 ×˜×¡×˜×™×)**

### **××” ×–×” Config Validation?**
×‘×“×™×§×” ×©×”-Focus Server **×“×•×—×” ×§×•× ×¤×™×’×•×¨×¦×™×•×ª ×œ× ×ª×§×™× ×•×ª** ×•×œ× ××ª×§×œ×§×œ.

### **×œ××” ×–×” ×§×¨×™×˜×™?**
×× Focus Server **××§×‘×œ config ×©×’×•×™**, ×”×•× ×™×›×•×œ:
- ğŸ’¥ **×œ×§×¨×•×¡** (crash)
- ğŸ› **×œ×”×—×–×™×¨ ×ª×•×¦××•×ª ×©×’×•×™×•×ª**
- ğŸ”¥ **×œ×‘×–×‘×– ××©××‘×™×** (memory, CPU)

### **×§×˜×’×•×¨×™×•×ª ×©×œ Validation:**

#### **A. Time Validation (5 ×˜×¡×˜×™×)**
```python
# Test 1: ×–××Ÿ ×”×¤×•×š
test_historic_with_reversed_time_range()
# Config: start_time=1700000600, end_time=1700000000
# Expected: 400 Bad Request

# Test 2: ×–××Ÿ ×¢×ª×™×“×™
test_historic_with_future_timestamps()
# Config: start_time=2099-01-01
# Expected: 400 ××• warning

# Test 3: ×¤×•×¨××˜ ×©×’×•×™
test_config_with_invalid_time_format()
# Config: start_time="not a timestamp"
# Expected: 400
```

**×œ××” ×–×” ×—×©×•×‘?**
×× Focus Server ××§×‘×œ `start > end`, ×”×•× ×¢×œ×•×œ ×œ× ×¡×•×ª ×œ×§×¨×•× **×›×œ ×”-MongoDB** ××• **×œ×ª×§×•×¢ ×‘×œ×•×œ××”**.

---

#### **B. Frequency Validation (8 ×˜×¡×˜×™×)**
```python
# Test 1: ×ª×“×¨ ×©×œ×™×œ×™
test_negative_frequency()
# Config: freq_min=-100
# Expected: 400

# Test 2: ×ª×“×¨ ×”×¤×•×š
test_reversed_frequency_range()
# Config: freq_min=500, freq_max=0
# Expected: 400

# Test 3: ×—×¨×™×’×” ×-Nyquist
test_frequency_exceeds_nyquist()
# Config: freq_max=1000 (×›××©×¨ PRR=500 â†’ Nyquist=250)
# Expected: 400 ××• auto-correction
```

**×œ××” ×–×” ×—×©×•×‘?**
×ª×“×¨×™× ×œ× ×ª×§×™× ×™× ×™×›×•×œ×™× ×œ×’×¨×•× ×œ-**aliasing** ××• **× ×ª×•× ×™× ×©×’×•×™×™×**.

---

#### **C. NFFT Validation (6 ×˜×¡×˜×™×)**
```python
# Test 1: NFFT ×œ× ×—×–×§×ª 2
test_nfft_non_power_of_2()
# Config: nfft=1000
# Expected: 400 (×¦×¨×™×š 1024)

# Test 2: NFFT ×©×œ×™×œ×™
test_negative_nfft()
# Config: nfft=-1024
# Expected: 400

# Test 3: NFFT ×¢× ×§
test_very_large_nfft()
# Config: nfft=1048576 (2^20)
# Expected: 400 ××• resource warning
```

**×œ××” ×–×” ×—×©×•×‘?**
NFFT ×§×•×‘×¢ ××ª **×¨×–×•×œ×•×¦×™×™×ª ×”×ª×“×¨**. NFFT ×œ× ×ª×§×™×Ÿ â†’ **FFT ×œ× ×¢×•×‘×“** â†’ Baby Analyzer ×§×•×¨×¡.

---

#### **D. Sensor/Channel Validation (6 ×˜×¡×˜×™×)**
```python
# Test 1: ×¢×¨×•×¥ ×©×œ×™×œ×™
test_negative_sensor_index()
# Config: channels={min:-5, max:10}
# Expected: 400

# Test 2: ×¢×¨×•×¦×™× ×”×¤×•×›×™×
test_reversed_sensor_range()
# Config: channels={min:100, max:1}
# Expected: 400

# Test 3: ×—×¨×™×’×” ×××§×¡×™××•×
test_sensor_range_exceeds_total()
# Config: channels={min:1, max:99999}
# Expected: 400 (max channels = 512 ××• 1024)
```

**×œ××” ×–×” ×—×©×•×‘?**
Focus Server ×× ×¡×” ×œ×’×©×ª ×œ×¢×¨×•×¦×™× ×©×œ× ×§×™×™××™× â†’ **segmentation fault** ××• **infinite loop**.

---

#### **E. Canvas/Display Validation (5 ×˜×¡×˜×™×)**
```python
# Test 1: ×’×•×‘×” ××¤×¡
test_zero_canvas_height()
# Config: displayInfo={height:0}
# Expected: 400

# Test 2: ×’×•×‘×” ×©×œ×™×œ×™
test_config_with_zero_canvas_height()
# Config: displayInfo={height:-100}
# Expected: 400

# Test 3: ×’×•×‘×” ××™× ×™××œ×™ ×××•×“
test_very_small_canvas_height()
# Config: displayInfo={height:1}
# Expected: warning ××• 400
```

**×œ××” ×–×” ×—×©×•×‘?**
×’×•×‘×” ×œ× ×ª×§×™×Ÿ â†’ **division by zero** ×‘×—×™×©×•×‘ resolution â†’ crash.

---

### **××™×š ×–×” ×§×©×•×¨ ×œ-Focus Server?**

×›×œ ×”×‘×“×™×§×•×ª ×”××œ×” **××’× ×•×ª ×¢×œ Focus Server** ××¤× ×™:
1. âŒ **Crashes** - ×§×œ×˜ ×œ× ×ª×§×™×Ÿ ×œ× ×™×§×¨×•×¡ ××ª ×”×©×¨×ª
2. âŒ **Resource exhaustion** - ×œ× ×™×‘×§×© 100GB RAM
3. âŒ **Infinite loops** - ×œ× ×™×ª×§×¢ ×‘×œ×•×œ××”
4. âŒ **Wrong results** - ×œ× ×™×—×–×™×¨ × ×ª×•× ×™× ×©×’×•×™×™×

### **×œ××” ×–×” ×œ× ×‘-Jira?**
×‘-Jira ×™×© **3 ×˜×¡×˜×™× ×‘×¡×™×¡×™×™×**:
- PZ-13552: Invalid time (1 test)
- PZ-13554: Invalid channels (1 test)
- PZ-13555: Invalid frequency (1 test)

××‘×œ ×”×˜×¡×˜×™× ×©×œ× ×• ×‘×•×“×§×™× **30 edge cases ×©×•× ×™×** ×©×™×›×•×œ×™× ×œ×§×¨×•×¡ ××ª ×”××¢×¨×›×ª.

---

## 5ï¸âƒ£ **Historic Playback Extended (10 ×˜×¡×˜×™×)**

### **××” ×–×” Historic Playback?**
×”×¤×¢×œ×” ××—×“×© ×©×œ **×”×§×œ×˜×•×ª ×©× ×©××¨×•** ×‘××§×•× live monitoring.

### **××™×š ×–×” ×¢×•×‘×“?**
1. ğŸ“Š ××©×ª××© ××‘×§×©: "×ª×¨××” ×œ×™ ××” ×§×¨×” ×‘-15/10 ×‘×™×Ÿ 10:00-11:00"
2. ğŸ” Focus Server ×©×•××œ MongoDB: "××™×–×” recordings ×™×© ×‘×–××Ÿ ×”×–×”?"
3. ğŸ“ MongoDB ××—×–×™×¨: "×™×© 3 recordings"
4. â–¶ï¸ Focus Server ××©×—×–×¨ ××•×ª× ×‘×–×” ××—×¨ ×–×”
5. ğŸ“º ××©×ª××© ×¨×•××” replay ×©×œ ×”××“×™×“×”

### **×“×•×’×××•×ª ×œ×˜×¡×˜×™×:**

```python
# Test 1: Playback ××œ×
test_complete_historic_playback_flow()
# ×‘×•×“×§: ×›×œ ×”×ª×”×œ×™×š ×-A ×¢×“ Z

# Test 2: ××©×š ×§×¦×¨ (1 ×“×§×”)
test_historic_playback_with_short_duration()
# ×‘×•×“×§: playback ×©×œ recording ×§×¦×¨

# Test 3: ××©×š ××¨×•×š (8 ×©×¢×•×ª)
test_historic_with_very_long_duration()
# ×‘×•×“×§: playback ×œ× × ×•×¤×œ ×‘×××¦×¢

# Test 4: Polling ×¢×“ ×¡×™×•×
test_poll_historic_playback_until_completion()
# ×‘×•×“×§: ××¤×©×¨ ×œ×¢×§×•×‘ ××—×¨×™ progress

# Test 5: Data integrity
test_historic_playback_data_integrity()
# ×‘×•×“×§: ×”× ×ª×•× ×™× ×©×—×•×–×¨×™× ×–×”×™× ×œ××” ×©×”×•×§×œ×˜
```

### **×œ××” ×–×” ×—×©×•×‘?**
- ğŸ”¬ **× ×™×ª×•×— ××™×¨×•×¢×™×** - ×œ×—×–×•×¨ ×œ××™×¨×•×¢ ×©×§×¨×” ×‘×¢×‘×¨
- ğŸ“Š **Reports** - ×œ×™×¦×•×¨ ×“×•×—×•×ª ××”×¢×‘×¨
- ğŸ› **Debug** - ×œ×”×‘×™×Ÿ ××” ×”×©×ª×‘×©

### **API ××¢×•×¨×‘:**
- âœ… POST `/config/{task_id}` ×¢× `start_time` + `end_time`
- âœ… GET `/recordings_in_time_range` - ×œ×©××•×œ ××™×–×” recordings ×™×©
- âœ… GET `/metadata/{task_id}` - ×œ×‘×“×•×§ ×¡×˜×˜×•×¡ playback
- âœ… MongoDB query - ×œ×§×¨×•× recordings

### **×œ××” ×–×” ×œ× ×‘-Jira?**
×‘-Jira ×™×© **×˜×¡×˜ ××—×“ ×‘×¡×™×¡×™** (PZ-13548: Historical configure happy path).  
×”×˜×¡×˜×™× ×©×œ× ×• ×‘×•×“×§×™× **edge cases**:
- âœ… Playback ×§×¦×¨ ×××•×“ (< 1 min)
- âœ… Playback ××¨×•×š ×××•×“ (> 8 hours)
- âœ… Timestamps ×™×©× ×™× ×××•×“ (2 ×©× ×™× ××—×•×¨×”)
- âœ… Data integrity (×©×”× ×ª×•× ×™× × ×›×•× ×™×)

---

# ğŸ“Š ×¡×™×›×•×: ×œ××” ×”×˜×¡×˜×™× ×”××œ×” ×—×¡×¨×™× ×‘-Jira?

## **×”×¡×™×‘×•×ª:**

### **1. ×¤×™×ª×•×— ××ª××©×š**
×”×˜×¡×˜×™× × ×›×ª×‘×• **××—×¨×™** ×©×”-Jira × ×•×¦×¨, ×›×™:
- âœ… ×ª×›×•× ×•×ª ×—×“×©×•×ª × ×•×¡×¤×• (ROI dynamic)
- âœ… Edge cases ×”×ª×’×œ×• ×‘×¤×¨×•×“×§×©×Ÿ
- âœ… Bugs ×ª×•×§× ×• ×•×¦×¨×™×š regression tests

### **2. ×‘×“×™×§×•×ª ×ª×©×ª×™×ª**
Infrastructure tests ×œ× ×”×™×• ×‘-Jira ×›×™:
- âœ… ×”× × ×›×ª×‘×• ×œ×¦×•×¨×š **debugging**
- âœ… ×”× ×‘×•×“×§×™× ××ª **×”×¡×‘×™×‘×”**, ×œ× ××ª ×”-API
- âœ… ×”× ×¢×•×–×¨×™× ×œ-**DevOps**, ×œ× ×œ××©×ª××©×™×

### **3. Validation ××§×™×¤×”**
Config validation tests ×”×ª×¨×—×‘×• ×›×™:
- âœ… ×’×™×œ×• bugs ×‘×¤×¨×•×“×§×©×Ÿ
- âœ… ×¨×¦×• ×œ×•×•×“× ×©×›×œ edge case ××›×•×¡×”
- âœ… ×‘×˜×™×—×•×ª ××¤× ×™ crashes

---

# ğŸ¯ ×”××œ×¦×” ×¡×•×¤×™×ª

## **××” ×›×Ÿ ×œ×ª×¢×“ ×‘-Jira:**

### **Priority 1: Critical (50 ×˜×¡×˜×™×)**
âœ… **ROI Tests (25)** - ×ª×›×•× ×” ×§×¨×™×˜×™×ª ×©××©×ª××©×™× ××©×ª××©×™× ×‘×”
âœ… **Infrastructure - MongoDB/K8s (10)** - ×‘×œ×™ ×–×” ××™×Ÿ Focus Server

### **Priority 2: High (30 ×˜×¡×˜×™×)**
âœ… **SingleChannel Extended (15)** - ×”×¨×—×‘×” ×©×œ ×ª×›×•× ×” ×§×™×™××ª
âœ… **Historic Playback Extended (10)** - edge cases ×—×©×•×‘×™×
âœ… **Config Validation - Critical (5)** - ×‘×˜×™×—×•×ª ××¤× ×™ crashes

### **Priority 3: Medium (25 ×˜×¡×˜×™×)**
âš ï¸ **Config Validation Extended (25)** - edge cases × ×•×¡×¤×™×

### **Priority 4: Low (5 ×˜×¡×˜×™×)**
âš ï¸ **Infrastructure - SSH/PZ (5)** - debugging tools

---

## **××” ×œ× ×œ×ª×¢×“ ×‘-Jira:**

âŒ **Unit Tests (30)** - ×˜×¡×˜×™× ×¤× ×™××™×™×  
âŒ **Project Structure (10)** - ×‘×“×™×§×•×ª build  
âŒ **Import Tests (10)** - ×‘×“×™×§×•×ª modules

---

**×¡×”"×› ×œ×ª×™×¢×•×“: 105 ×˜×¡×˜×™× (×œ× ×›×•×œ×œ unit tests)**

**×”×¢×¨×”:** ×›×œ ×”×˜×¡×˜×™× ×”××œ×” **×›×‘×¨ ××™×•×©××™× ×•×¢×•×‘×“×™×** ×‘×§×•×“, ×¨×§ ×¦×¨×™×š ×œ×ª×¢×“ ××•×ª× ×‘-Jira Xray.
